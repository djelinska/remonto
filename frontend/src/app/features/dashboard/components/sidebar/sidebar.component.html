<div class="d-flex flex-column border-end" id="sidebar">
  <div class="p-4 border-bottom" id="logo">
    <a [routerLink]="['/dashboard']"
      ><img src="/assets/images/remonto_logo.svg" alt="Remonto"
    /></a>
  </div>

  <div class="p-4 border-bottom" id="search">
    <input class="form-control" type="search" placeholder="Szukaj" />
  </div>

  <div class="p-4 mb-auto">
    <h2>
      <i class="bi bi-folder text-primary me-2"></i>
      Projekty
    </h2>
    @if (projects$ | async; as projects) {
    <ul class="my-3">
      @for (project of projects; track project.id) {
      <li class="py-3">
        <a
          [routerLink]="['/dashboard/projects', project.id]"
          routerLinkActive="project-link-active"
          class="project-link"
        >
          {{ project.name }}
        </a>
      </li>
      }
    </ul>
    }
    <button type="button" class="btn btn-primary w-100">
      <i class="bi bi-plus"></i>
      Utwórz nowy
    </button>
  </div>

  <div class="p-4 border-top d-flex align-items-center">
    <i class="bi bi-person-circle" id="profile-icon"></i>
    @if (user$ | async; as user) {
    <div class="ms-2 me-auto">{{ user.firstName + " " + user.lastName }}</div>
    }
    <div class="dropdown">
      <button class="btn btn-light" type="button" data-bs-toggle="dropdown">
        <i class="bi bi-three-dots"></i>
      </button>
      <ul class="dropdown-menu">
        <li>
          <a class="dropdown-item" [routerLink]="['./profile']">Profil</a>
        </li>
        <li>
          <button type="button" class="dropdown-item" (click)="logout()">
            Wyloguj się
          </button>
        </li>
      </ul>
    </div>
  </div>
</div>
